<div class="modal-header">
    <h3 class="modal-title">{{title}}</h3>
</div>

<div class="modal-body" ng-show="showMedDetail">
    <div>Status: {{actualMedicationRequestWithIssue.plan.status}}</div>
    <div>Type: {{actualMedicationRequestWithIssue.requestType}}</div>
    <div>Start Date: {{actualMedicationRequestWithIssue.plan.dispenseRequest.validityPeriod.start.split('T')[0]}} End
        Date:
        {{actualMedicationRequestWithIssue.plan.dispenseRequest.validityPeriod.end.split('T')[0]}}
    </div>
    <div>Quantity: {{actualMedicationRequestWithIssue.plan.dispenseRequest.quantity.extension[0].valueString}}</div>
    <div>Dosage: {{actualMedicationRequestWithIssue.plan.dosageInstruction[0].text}}</div>
    <div>Instructions: {{actualMedicationRequestWithIssue.plan.dosageInstruction[0].patientInstruction}}</div>

    <div ng-if="actualMedicationRequestWithIssue.requestType === 'Repeat'">
        <div>No of repeats allowed: {{actualMedicationRequestWithIssue.repeat[0].valuePositiveInt}}</div>
        <div>No of repeats issued: {{actualMedicationRequestWithIssue.repeat[1].valuePositiveInt}}</div>
    </div>

    <div ng-repeat="issue in actualMedicationRequestWithIssue.issues">
        <hr>
        <div>Start Date: {{issue.dispenseRequest.validityPeriod.start.split('T')[0]}} End Date:
            {{issue.dispenseRequest.validityPeriod.end.split('T')[0]}}
        </div>
        <div>Quantity: {{issue.dispenseRequest.quantity.extension[0].valueString}}</div>
        <div>Dosage: {{issue.dosageInstruction[0].text}}</div>
        <div>Instructions: {{issue.dosageInstruction[0].patientInstruction}}</div>

        <div ng-if="issue.extension.length > 1">
            <div>No of repeats allowed: {{issue.extension[0].extension[0].valuePositiveInt}}</div>
            <div>No of repeats issued: {{issue.extension[0].extension[1].valuePositiveInt}}</div>
        </div>
    </div>

    <button class="btn pull-right" type="button" data-dismiss="dialog" ng-click="closeModalInstance()">
        close
    </button>
    <br>
    <br>

</div>


<div class="modal-body" ng-show="showAllergyDetail">
    <div>Clinical status: {{listType.clinicalStatus}}</div>
    <div>Onset Date: {{listType.onsetDateTime.split('T')[0]}}</div>
    <div>Reaction: {{listType.reaction[0].manifestation[0].coding[0].display}}</div>
    <div>Criticality: {{listType.reaction[0].severity}}</div>
    <div>Notes: {{listType.note[0].text}}</div>

    <button class="btn pull-right" type="button" data-dismiss="dialog" ng-click="closeModalInstance()">
        close
    </button>
    <br>
    <br>

</div>


<div class="modal-body" ng-show="showResAllergyDetail">
    <div>Clinical status: {{listType.clinicalStatus}}</div>
    <div>Onset Date: {{listType.onsetDateTime.split('T')[0]}}</div>
    <div>Reaction: {{listType.reaction[0].manifestation[0].coding[0].display}}</div>
    <div>Criticality: {{listType.reaction[0].severity}}</div>
    <div>Notes: {{listType.note[0].text}}</div>

    <hr>
    <!-- ONLY FOR RESOLVED -->
    <div>End Date: {{listType.extension[0].extension[0].valueDateTime.split('T')[0]}}</div>
    <div>End Reason: {{listType.extension[0].extension[1].valueString}}</div>

    <button class="btn pull-right" type="button" data-dismiss="dialog" ng-click="closeModalInstance()">
        close
    </button>
    <br>
    <br>
</div>


